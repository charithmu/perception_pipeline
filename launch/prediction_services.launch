<launch>
    <!-- Start Node -->
    <!-- <arg name="instances" default="1" />

    <group ns="$(eval 'node' + str(arg('instances')))">
        <node name="prediction_service" pkg="perceprion_pipeline" type="prediction_service.py" output="screen" />

        <param name="instance_id" type="double" value="$(eval arg('instances')-1)" />
    </group> -->

    <!-- Recursively start instance of a node -->
    <!-- <include file="$(find perception_pipeline)/launch/perception_pipeline.launch" if="$(eval arg('instances') - 1 > 0)">

        <arg name="instances" value="$(eval arg('instances')-1)" />
    </include> -->

    <node name="prediction_server_1" pkg="perception_pipeline" type="prediction_service.py" output="screen">
        <param name="instance_id" type="int" value="1" />
    </node>

    <node name="prediction_server_2" pkg="perception_pipeline" type="prediction_service.py" output="screen">
        <param name="instance_id" type="int" value="2" />
    </node>

    <!-- <node name="prediction_server_3" pkg="perception_pipeline" type="prediction_service.py" output="screen">
        <param name="instance_id" type="int" value="3" />
    </node> -->

</launch>
